---
- name: Set Panel Date Format
  become_user: "{{ user }}"
  community.general.dconf:
    key: "/org/gnome/shell/extensions/panel-date-format/format"
    value: "'%H:%M   |   %A  %d.%m.%Y'"

- name: Set GNOME wallpaper
  become_user: "{{ user }}"
  community.general.dconf:
    key: "/org/gnome/desktop/background/picture-uri"
    value: "'file:///home/{{ user }}/.wallpaper.jpg'"

- name: Set lock screen background
  become_user: "{{ user }}"
  community.general.dconf:
    key: "/org/gnome/desktop/screensaver/picture-uri"
    value: "'file:///home/{{ user }}/.lockscreen.jpg'"

- name: Execute script to set shortcut with gsetting
  become_user: "{{ user }}"
  ansible.builtin.shell: ./roles/linux-workstation/files/gnome-setting.sh
  changed_when: true
  tags:
    - skip_ansible_lint

- name: Disable system sounds in GNOME (disable event sounds)
  become_user: "{{ user }}"
  ansible.builtin.command:
    cmd: "gsettings set org.gnome.desktop.sound event-sounds false"

- name: Disable input feedback sounds (e.g., keypress sounds)
  become_user: "{{ user }}"
  ansible.builtin.command:
    cmd: "gsettings set org.gnome.desktop.sound input-feedback-sounds false"

- name: Mute system sounds using ALSA
  become_user: "{{ user }}"
  ansible.builtin.command:
    cmd: "amixer set Master mute"
